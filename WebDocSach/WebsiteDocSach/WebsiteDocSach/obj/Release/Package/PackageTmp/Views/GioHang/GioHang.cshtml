@using WebsiteDocSach.Models
@model List<GioHang>


@{
    ViewBag.Title = "Giỏ hàng";
    Layout = "~/Views/Layout/LayoutNguoiDung.cshtml";
}

@section GioHangRenderSection {

<div class="container shopping-cart">
    <div class="row">
        <div class="col-md-12">
            <h3 class="title">GIỎ HÀNG CỦA BẠN</h3>
            <div class="clearfix"> </div>
            <table class="shop-table">
                <thead>
                    <tr>
                        <th> Hình ảnh </th>
                        <th> Chi tiết </th>
                        <th> Giá </th>
                        <th> Số lượng </th>
                        <th> Thành tiền </th>
                        <th> Xử lý </th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <!--Hình ảnh-->
                            <td> <img src="~/Images/AnhBia/@item.sAnhBia" alt=""> </td>
                            <td>
                                <!--Chi tiết-->
                                <div class="shop-details"> 
                                    <div class="productname"> @item.sTenHangHoa </div> 
                                    <p> Mô tả : <strong class="pcode"> @item.sMoTa.Substring(0, 50)... </strong> </p>
                                </div> 
                            </td>
                            @using (Html.BeginForm("CapNhatGioHang", "GioHang", new { id = item.sidsach }))
                            {
                                @Html.ValidationSummary(false)
                        <!--Giá-->
                                <td>
                                    <h5> @String.Format("{0:0,0}", item.dGiaMoi) VND </h5>
                                </td>
                        <!--Số lượng-->
                                <td>
                                    <input type="number" name="txtSoLuong" min="1" value="@item.iSoLuong" style="background-color:yellow; width: 60%;" />
                                </td>
                        <!--Thành tiền-->
                                <td>
                                    <h5> <strong class="red">@String.Format("{0:0,0}", item.dThanhTien) VND</strong> </h5>
                                </td>
                                <td>
                                    <a href="@Url.Action("XemChiTiet", "Sach", new {id = item.sidsach })"><i class="fa fa-list-alt fa-2x" aria-hidden="true"></i> Chi tiết</a>
                                    <br />
                                    <a href="@Url.Action("XoaGioHang", "GioHang", new {id = item.sidsach })"> <img src="~/Images/Icon/remove.png" /> Xóa </a>
                                    <br />
                                    <button type="submit" class="btn btn-default btn-lg btn-block" style="width: 30px; height: 40px;">
                                        <i class="fa fa-refresh fa-1x" aria-hidden="true"></i>
                                    </button>
                                </td>
                            }
                        </tr> 
                    }
                </tbody>
                <tfoot>
                    <tr>
                        <td colspan="6">
                            <button class="pull-left"> Continue Shopping </button>
                            <button class=" pull-right">
                                Update Shopping Cart
                            </button>
                        </td>
                    </tr>
                </tfoot>
            </table>
            <div class="clearfix">
            </div> 
            <div class="row">
                <div class="col-md-4 col-sm-6">
                    <div class="shippingbox">
                        <h5>
                            Estimate Shipping And Tax
                        </h5>
                        <form>
                            <label>
                                Select Country *
                            </label>
                            <select class="">
                                <option value="AL">
                                    Alabama
                                </option>
                                <option value="AK">
                                    Alaska
                                </option>
                                <option value="AZ">
                                    Arizona
                                </option>
                                <option value="AR">
                                    Arkansas
                                </option>
                                <option value="CA">
                                    California
                                </option>
                                <option value="CO">
                                    Colorado
                                </option>
                                <option value="CT">
                                    Connecticut
                                </option>
                                <option value="DE">
                                    Delaware
                                </option>
                                <option value="DC">
                                    District Of Columbia
                                </option>
                                <option value="FL">
                                    Florida
                                </option>
                                <option value="GA">
                                    Georgia
                                </option>
                                <option value="HI">
                                    Hawaii
                                </option>
                                <option value="ID">
                                    Idaho
                                </option>
                                <option selected="" value="IL">
                                    Illinois
                                </option>
                                <option value="IN">
                                    Indiana
                                </option>
                                <option value="IA">
                                    Iowa
                                </option>
                                <option value="KS">
                                    Kansas
                                </option>
                                <option value="KY">
                                    Kentucky
                                </option>
                                <option value="LA">
                                    Louisiana
                                </option>
                                <option value="ME">
                                    Maine
                                </option>
                                <option value="MD">
                                    Maryland
                                </option>
                                <option value="MA">
                                    Massachusetts
                                </option>
                                <option value="MI">
                                    Michigan
                                </option>
                                <option value="MN">
                                    Minnesota
                                </option>
                                <option value="MS">
                                    Mississippi
                                </option>
                                <option value="MO">
                                    Missouri
                                </option>
                                <option value="MT">
                                    Montana
                                </option>
                                <option value="NE">
                                    Nebraska
                                </option>
                                <option value="NV">
                                    Nevada
                                </option>
                                <option value="NH">
                                    New Hampshire
                                </option>
                                <option value="NJ">
                                    New Jersey
                                </option>
                                <option value="NM">
                                    New Mexico
                                </option>
                                <option value="NY">
                                    New York
                                </option>
                                <option value="NC">
                                    North Carolina
                                </option>
                                <option value="ND">
                                    North Dakota
                                </option>
                                <option value="OH">
                                    Ohio
                                </option>
                                <option value="OK">
                                    Oklahoma
                                </option>
                                <option value="OR">
                                    Oregon
                                </option>
                                <option value="PA">
                                    Pennsylvania
                                </option>
                                <option value="RI">
                                    Rhode Island
                                </option>
                                <option value="SC">
                                    South Carolina
                                </option>
                                <option value="SD">
                                    South Dakota
                                </option>
                                <option value="TN">
                                    Tennessee
                                </option>
                                <option value="TX">
                                    Texas
                                </option>
                                <option value="UT">
                                    Utah
                                </option>
                                <option value="VT">
                                    Vermont
                                </option>
                                <option value="VA">
                                    Virginia
                                </option>
                                <option value="WA">
                                    Washington
                                </option>
                                <option value="WV">
                                    West Virginia
                                </option>
                                <option value="WI">
                                    Wisconsin
                                </option>
                                <option value="WY">
                                    Wyoming
                                </option>
                            </select>
                            <label>
                                State / Province *
                            </label>
                            <select class="">
                                <option value="AL">
                                    Alabama
                                </option>
                                <option value="AK">
                                    Alaska
                                </option>
                                <option value="AZ">
                                    Arizona
                                </option>
                                <option value="AR">
                                    Arkansas
                                </option>
                                <option value="CA">
                                    California
                                </option>
                                <option value="CO">
                                    Colorado
                                </option>
                                <option value="CT">
                                    Connecticut
                                </option>
                                <option value="DE">
                                    Delaware
                                </option>
                                <option value="DC">
                                    District Of Columbia
                                </option>
                                <option value="FL">
                                    Florida
                                </option>
                                <option value="GA">
                                    Georgia
                                </option>
                                <option value="HI">
                                    Hawaii
                                </option>
                                <option value="ID">
                                    Idaho
                                </option>
                                <option selected="" value="IL">
                                    Illinois
                                </option>
                                <option value="IN">
                                    Indiana
                                </option>
                                <option value="IA">
                                    Iowa
                                </option>
                                <option value="KS">
                                    Kansas
                                </option>
                                <option value="KY">
                                    Kentucky
                                </option>
                                <option value="LA">
                                    Louisiana
                                </option>
                                <option value="ME">
                                    Maine
                                </option>
                                <option value="MD">
                                    Maryland
                                </option>
                                <option value="MA">
                                    Massachusetts
                                </option>
                                <option value="MI">
                                    Michigan
                                </option>
                                <option value="MN">
                                    Minnesota
                                </option>
                                <option value="MS">
                                    Mississippi
                                </option>
                                <option value="MO">
                                    Missouri
                                </option>
                                <option value="MT">
                                    Montana
                                </option>
                                <option value="NE">
                                    Nebraska
                                </option>
                                <option value="NV">
                                    Nevada
                                </option>
                                <option value="NH">
                                    New Hampshire
                                </option>
                                <option value="NJ">
                                    New Jersey
                                </option>
                                <option value="NM">
                                    New Mexico
                                </option>
                                <option value="NY">
                                    New York
                                </option>
                                <option value="NC">
                                    North Carolina
                                </option>
                                <option value="ND">
                                    North Dakota
                                </option>
                                <option value="OH">
                                    Ohio
                                </option>
                                <option value="OK">
                                    Oklahoma
                                </option>
                                <option value="OR">
                                    Oregon
                                </option>
                                <option value="PA">
                                    Pennsylvania
                                </option>
                                <option value="RI">
                                    Rhode Island
                                </option>
                                <option value="SC">
                                    South Carolina
                                </option>
                                <option value="SD">
                                    South Dakota
                                </option>
                                <option value="TN">
                                    Tennessee
                                </option>
                                <option value="TX">
                                    Texas
                                </option>
                                <option value="UT">
                                    Utah
                                </option>
                                <option value="VT">
                                    Vermont
                                </option>
                                <option value="VA">
                                    Virginia
                                </option>
                                <option value="WA">
                                    Washington
                                </option>
                                <option value="WV">
                                    West Virginia
                                </option>
                                <option value="WI">
                                    Wisconsin
                                </option>
                                <option value="WY">
                                    Wyoming
                                </option>
                            </select>
                            <label>
                                Zip / Post Code *
                            </label>
                            <select class="">
                                <option value="AL">
                                    Alabama
                                </option>
                                <option value="AK">
                                    Alaska
                                </option>
                                <option value="AZ">
                                    Arizona
                                </option>
                                <option value="AR">
                                    Arkansas
                                </option>
                                <option value="CA">
                                    California
                                </option>
                                <option value="CO">
                                    Colorado
                                </option>
                                <option value="CT">
                                    Connecticut
                                </option>
                                <option value="DE">
                                    Delaware
                                </option>
                                <option value="DC">
                                    District Of Columbia
                                </option>
                                <option value="FL">
                                    Florida
                                </option>
                                <option value="GA">
                                    Georgia
                                </option>
                                <option value="HI">
                                    Hawaii
                                </option>
                                <option value="ID">
                                    Idaho
                                </option>
                                <option selected="" value="IL">
                                    Illinois
                                </option>
                                <option value="IN">
                                    Indiana
                                </option>
                                <option value="IA">
                                    Iowa
                                </option>
                                <option value="KS">
                                    Kansas
                                </option>
                                <option value="KY">
                                    Kentucky
                                </option>
                                <option value="LA">
                                    Louisiana
                                </option>
                                <option value="ME">
                                    Maine
                                </option>
                                <option value="MD">
                                    Maryland
                                </option>
                                <option value="MA">
                                    Massachusetts
                                </option>
                                <option value="MI">
                                    Michigan
                                </option>
                                <option value="MN">
                                    Minnesota
                                </option>
                                <option value="MS">
                                    Mississippi
                                </option>
                                <option value="MO">
                                    Missouri
                                </option>
                                <option value="MT">
                                    Montana
                                </option>
                                <option value="NE">
                                    Nebraska
                                </option>
                                <option value="NV">
                                    Nevada
                                </option>
                                <option value="NH">
                                    New Hampshire
                                </option>
                                <option value="NJ">
                                    New Jersey
                                </option>
                                <option value="NM">
                                    New Mexico
                                </option>
                                <option value="NY">
                                    New York
                                </option>
                                <option value="NC">
                                    North Carolina
                                </option>
                                <option value="ND">
                                    North Dakota
                                </option>
                                <option value="OH">
                                    Ohio
                                </option>
                                <option value="OK">
                                    Oklahoma
                                </option>
                                <option value="OR">
                                    Oregon
                                </option>
                                <option value="PA">
                                    Pennsylvania
                                </option>
                                <option value="RI">
                                    Rhode Island
                                </option>
                                <option value="SC">
                                    South Carolina
                                </option>
                                <option value="SD">
                                    South Dakota
                                </option>
                                <option value="TN">
                                    Tennessee
                                </option>
                                <option value="TX">
                                    Texas
                                </option>
                                <option value="UT">
                                    Utah
                                </option>
                                <option value="VT">
                                    Vermont
                                </option>
                                <option value="VA">
                                    Virginia
                                </option>
                                <option value="WA">
                                    Washington
                                </option>
                                <option value="WV">
                                    West Virginia
                                </option>
                                <option value="WI">
                                    Wisconsin
                                </option>
                                <option value="WY">
                                    Wyoming
                                </option>
                            </select>
                            <div class="clearfix">
                            </div>
                            <button>
                                Get A Qoute
                            </button>
                        </form>
                    </div>
                </div>

                @{
                    khachhang khachhang = (khachhang)Session["TaiKhoan"];
                }
                <div class="col-md-4 col-sm-6">
                    <div class="shippingbox">
                        <h5>
                            THÔNG TIN ĐẶT HÀNG
                        </h5>
                        @using (Html.BeginForm("DatHang","GioHang", FormMethod.Post))
                        {
                            @Html.AntiForgeryToken()
                            @Html.ValidationSummary(true)
                            <form>
                                <label> Họ tên người nhận*: </label>
                                <input type="text" name="HoTenNguoiNgan" maxlength="50" class="form-control" required /> 
                                <div class="clearfix"> </div>

                                <label> Địa chỉ người nhận*: </label>
                                <input type="text" name="DiaChiNguoiNhan" maxlength="50" class="form-control" required />
                                <div class="clearfix"> </div>
                                 

                                <label> SDT người nhận*: </label>
                                <input type="number" name="SDTNguoiNhan" min="0900000000" maxlength="15" oninput="maxLengthCheck(this)" onkeypress='return isNumberKey(event)' class="form-control" required />
                                <div class="clearfix"> </div>

                                <label> Ngày giao*: </label>
                                <input type="date" name="NgayGiao" min="@string.Format("{0:yyyy-MM-dd}", @DateTime.Now)" class="form-control" />
                                <div class="clearfix"> </div> 

                                <button type="submit"> Đồng ý đặt hàng </button>
                            </form>
                        }
                    </div>
                </div>
                <div class="col-md-4 col-sm-6">
                    <div class="shippingbox">
                        <h2>CHI PHÍ</h2>
                        <div class="subtotal">
                            <h5>
                                Số lượng sản phẩm
                            </h5>
                            <span>
                                @ViewBag.TongSoLuong
                            </span>
                        </div>
                        <div class="grandtotal">
                            <h5>
                                Tổng tiền
                            </h5>
                            <span>
                                @String.Format("{0:0,0}", ViewBag.TongTien) VND
                            </span>
                        </div>
                         
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="clearfix">
    </div>
</div>
                  }

<style>
    #menuchinh {
        display: none;
    }
</style>